# SPDX-License-Identifier: GPL-2.0-or-later

# config file for generic FT232H based USB-serial adaptor
# TCK:  D0
# TDI:  D1
# TDO:  D2
# TMS:  D3
# TRST: D4
# SRST: D5
# RTCK: D7

#
# FTDI MiniModule
#
# http://www.ftdichip.com/Support/Documents/DataSheets/Modules/DS_FT2232H_Mini_Module.pdf
#

adapter speed 10000
adapter driver ftdi
ftdi_vid_pid 0x0403 0x6010
ftdi_channel 0

# INITIAL VALUE: 0x0018 = Send out TMS TRST
# DIRECTION (1 = Out): 0x007b = TCK TDI TMS TRST SRST NC
ftdi_layout_init 0x0018 0x007b

# nTRST defined on pin ADBUS4 [AD4] on the FT2232H chip.
# This choice is arbitrary. Use other GPIO pin if desired.
ftdi_layout_signal nTRST -data 0x0010 -oe 0x0010
# nSRST defined on pin ADBUS5 [AD5] on the FT2232H chip.
# This choice is arbitrary. Use other GPIO pin if desired.
ftdi_layout_signal nSRST -data 0x0020 -oe 0x0020
ftdi_layout_signal nRTCK -data 0x0080 -oe 0x0080

# references
# https://github.com/openocd-org/openocd/blob/master/tcl/interface/ftdi/minimodule.cfg
# https://metebalci.com/blog/bare-metal-raspberry-pi-3b-jtag/
